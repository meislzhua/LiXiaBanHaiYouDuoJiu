function getTime(){var e=Math.floor((getXiaBanTime()-new Date)/1e3),t=Math.abs(e),i=Math.floor(t/3600),a=Math.floor(t%3600/60),n=t%60;return{diff:e,hour:i,min:a,second:n}}function setNumberWithAnimation(e,t){e.className=e.className+" rotate",setTimeout(function(){e.innerHTML=t,e.className=e.className.replace(" rotate","")},130)}function render(){var e=getTime();$detail.innerHTML=(e.diff>0?"离下班还剩":"已加班")+e.hour+"小时"+e.min+"分钟"+e.second+"秒";var t=0;hour!=e.hour&&(parseInt(hour/10)!=(t=parseInt(e.hour/10))&&setNumberWithAnimation($number[0],t),hour%10!=(t=e.hour%10)&&setNumberWithAnimation($number[1],t),hour=e.hour),min!=e.min&&(parseInt(min/10)!=(t=parseInt(e.min/10))&&setNumberWithAnimation($number[2],t),min%10!=(t=e.min%10)&&setNumberWithAnimation($number[3],t),min=e.min),parseInt(second/10)!=(t=parseInt(e.second/10))&&setNumberWithAnimation($number[4],t),second%10!=(t=e.second%10)&&setNumberWithAnimation($number[5],t),second=e.second}function copy(){if(window.document.selection){var e=window.document.selection.createRange();e.moveToElementText($detail),e.select(),e.execCommand("copy")}else if(window.getSelection){selection=window.getSelection();var e=document.createRange();e.selectNodeContents($detail),selection.removeAllRanges(),selection.addRange(e),document.execCommand("copy"),selection.removeAllRanges()}}function getXiaBanTime(){try{var e=window.localStorage.time_xiaban.split(":"),t=(new Date).setHours(e[0].trim(),e[1].trim(),0);if(t)return t;throw"时间转化错误!"}catch(e){return(new Date).setHours(18,0,0)}}!function(e,t){"use strict";function i(e){e=e||{};for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var a in i)i.hasOwnProperty(a)&&("object"==typeof i[a]?deepExtend(e[a],i[a]):e[a]=i[a])}return e}function a(a,s){function r(){if(S){g=t.createElement("canvas"),g.className="pg-canvas",g.style.display="block",a.insertBefore(g,a.firstChild),y=g.getContext("2d"),l();for(var i=Math.round(g.width*g.height/s.density),n=0;i>n;n++){var o=new m;o.setStackPos(n),Y.push(o)}e.addEventListener("resize",function(){h()},!1),t.addEventListener("mousemove",function(e){O=e.pageX,A=e.pageY},!1),T&&!N&&e.addEventListener("deviceorientation",function(){C=Math.min(Math.max(-event.beta,-30),30),k=Math.min(Math.max(-event.gamma,-30),30)},!0),d(),x("onInit")}}function l(){g.width=a.offsetWidth,g.height=a.offsetHeight,y.fillStyle=s.dotColor,y.strokeStyle=s.lineColor,y.lineWidth=s.lineWidth}function d(){if(S){v=e.innerWidth,b=e.innerHeight,y.clearRect(0,0,g.width,g.height);for(var t=0;t<Y.length;t++)Y[t].updatePosition();for(var t=0;t<Y.length;t++)Y[t].draw();F||(w=requestAnimationFrame(d))}}function h(){l();for(var e=a.offsetWidth,t=a.offsetHeight,i=Y.length-1;i>=0;i--)(Y[i].position.x>e||Y[i].position.y>t)&&Y.splice(i,1);var n=Math.round(g.width*g.height/s.density);if(n>Y.length)for(;n>Y.length;){var o=new m;Y.push(o)}else n<Y.length&&Y.splice(n);for(i=Y.length-1;i>=0;i--)Y[i].setStackPos(i)}function p(){F=!0}function c(){F=!1,d()}function m(){switch(this.stackPos,this.active=!0,this.layer=Math.ceil(3*Math.random()),this.parallaxOffsetX=0,this.parallaxOffsetY=0,this.position={x:Math.ceil(Math.random()*g.width),y:Math.ceil(Math.random()*g.height)},this.speed={},s.directionX){case"left":this.speed.x=+(-s.maxSpeedX+Math.random()*s.maxSpeedX-s.minSpeedX).toFixed(2);break;case"right":this.speed.x=+(Math.random()*s.maxSpeedX+s.minSpeedX).toFixed(2);break;default:this.speed.x=+(-s.maxSpeedX/2+Math.random()*s.maxSpeedX).toFixed(2),this.speed.x+=this.speed.x>0?s.minSpeedX:-s.minSpeedX}switch(s.directionY){case"up":this.speed.y=+(-s.maxSpeedY+Math.random()*s.maxSpeedY-s.minSpeedY).toFixed(2);break;case"down":this.speed.y=+(Math.random()*s.maxSpeedY+s.minSpeedY).toFixed(2);break;default:this.speed.y=+(-s.maxSpeedY/2+Math.random()*s.maxSpeedY).toFixed(2),this.speed.x+=this.speed.y>0?s.minSpeedY:-s.minSpeedY}}function f(e,t){return t?void(s[e]=t):s[e]}function u(){console.log("destroy"),g.parentNode.removeChild(g),x("onDestroy"),o&&o(a).removeData("plugin_"+n)}function x(e){void 0!==s[e]&&s[e].call(a)}var g,y,w,v,b,M,X,S=!!t.createElement("canvas").getContext,Y=[],O=0,A=0,N=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),T=!!e.DeviceOrientationEvent,k=0,C=0,F=!1;return s=i({},e[n].defaults,s),m.prototype.draw=function(){y.beginPath(),y.arc(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY,s.particleRadius/2,0,2*Math.PI,!0),y.closePath(),y.fill(),y.beginPath();for(var e=Y.length-1;e>this.stackPos;e--){var t=Y[e],i=this.position.x-t.position.x,a=this.position.y-t.position.y,n=Math.sqrt(i*i+a*a).toFixed(2);n<s.proximity&&(y.moveTo(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY),s.curvedLines?y.quadraticCurveTo(Math.max(t.position.x,t.position.x),Math.min(t.position.y,t.position.y),t.position.x+t.parallaxOffsetX,t.position.y+t.parallaxOffsetY):y.lineTo(t.position.x+t.parallaxOffsetX,t.position.y+t.parallaxOffsetY))}y.stroke(),y.closePath()},m.prototype.updatePosition=function(){if(s.parallax){if(T&&!N){var e=(v-0)/60;M=(k- -30)*e+0;var t=(b-0)/60;X=(C- -30)*t+0}else M=O,X=A;this.parallaxTargX=(M-v/2)/(s.parallaxMultiplier*this.layer),this.parallaxOffsetX+=(this.parallaxTargX-this.parallaxOffsetX)/10,this.parallaxTargY=(X-b/2)/(s.parallaxMultiplier*this.layer),this.parallaxOffsetY+=(this.parallaxTargY-this.parallaxOffsetY)/10}var i=a.offsetWidth,n=a.offsetHeight;switch(s.directionX){case"left":this.position.x+this.speed.x+this.parallaxOffsetX<0&&(this.position.x=i-this.parallaxOffsetX);break;case"right":this.position.x+this.speed.x+this.parallaxOffsetX>i&&(this.position.x=0-this.parallaxOffsetX);break;default:(this.position.x+this.speed.x+this.parallaxOffsetX>i||this.position.x+this.speed.x+this.parallaxOffsetX<0)&&(this.speed.x=-this.speed.x)}switch(s.directionY){case"up":this.position.y+this.speed.y+this.parallaxOffsetY<0&&(this.position.y=n-this.parallaxOffsetY);break;case"down":this.position.y+this.speed.y+this.parallaxOffsetY>n&&(this.position.y=0-this.parallaxOffsetY);break;default:(this.position.y+this.speed.y+this.parallaxOffsetY>n||this.position.y+this.speed.y+this.parallaxOffsetY<0)&&(this.speed.y=-this.speed.y)}this.position.x+=this.speed.x,this.position.y+=this.speed.y},m.prototype.setStackPos=function(e){this.stackPos=e},r(),{option:f,destroy:u,start:c,pause:p}}var n="particleground",o=e.jQuery;e[n]=function(e,t){return new a(e,t)},e[n].defaults={minSpeedX:.1,maxSpeedX:.7,minSpeedY:.1,maxSpeedY:.7,directionX:"center",directionY:"center",density:1e4,dotColor:"#666666",lineColor:"#666666",particleRadius:7,lineWidth:1,curvedLines:!1,proximity:100,parallax:!0,parallaxMultiplier:5,onInit:function(){},onDestroy:function(){}},o&&(o.fn[n]=function(e){if("string"==typeof arguments[0]){var t,i=arguments[0],s=Array.prototype.slice.call(arguments,1);return this.each(function(){o.data(this,"plugin_"+n)&&"function"==typeof o.data(this,"plugin_"+n)[i]&&(t=o.data(this,"plugin_"+n)[i].apply(this,s))}),void 0!==t?t:this}return"object"!=typeof e&&e?void 0:this.each(function(){o.data(this,"plugin_"+n)||o.data(this,"plugin_"+n,new a(this,e))})})}(window,document),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),a=Math.max(0,16-(i-e)),n=window.setTimeout(function(){t(i+a)},a);return e=i+a,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),document.getElementsByClassName||(document.getElementsByClassName=function(e,t){for(var i=(t||document).getElementsByTagName("*"),a=new Array,n=0;n<i.length;n++)for(var o=i[n],s=o.className.split(" "),r=0;r<s.length;r++)if(s[r]==e){a.push(o);break}return a});var $detail=document.getElementById("detail"),$number=document.getElementsByClassName("number"),$app=document.getElementById("app"),hour=0,min=0,second=0;render(),window.setInterval(render,1e3),$app.onselectstart=function(){return!1},function(e,t,i,a,n,o,s){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,o=t.createElement(i),s=t.getElementsByTagName(i)[0],o.async=1,o.src=a,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-55780211-4","auto"),ga("send","pageview"),particleground($app,{dotColor:"#5cbdaa",lineColor:"#5cbdaa"});